---
const services = [
  {
    title: 'Documentation',
    description: 'Technical documentation that developers actually read. From API references to integration guides, we create content that reduces support tickets and speeds up adoption.',
  },
  {
    title: 'Events',
    description: 'Developer conferences, workshops, and community building. We organize technical events that bring developers together and drive ecosystem growth.',
  },
  {
    title: 'Developer Outreach',
    description: 'Strategic developer relations and ecosystem growth. We help projects build thriving developer communities through advocacy, education, and direct engagement.',
  },
];
---

<section id="services" class="py-24">
  <div class="mx-auto max-w-3xl px-6">
    <h2 data-animate class="text-3xl md:text-4xl font-bold font-[var(--font-coconat)] text-center">
      Our Services
    </h2>
    <p data-animate data-delay="100" class="mt-4 text-center text-[var(--color-text-secondary)]">
      Helping blockchain projects succeed through developer experience excellence.
    </p>

    <div class="mt-16 flex flex-col gap-6">
      {services.map((service, i) => (
        <>
          <div
            data-animate
            data-delay={150 + i * 100}
            class="p-6 rounded-xl bg-[--color-brand-alpha-5] border-l-4 border-l-[var(--color-brand-500)] border-t border-t-[var(--color-brand-500)] border-r border-r-[var(--color-brand-500)] border-b border-b-[var(--color-brand-500)] hover:border-l-[var(--color-brand-400)] transition-all group"
          >
            <h3 class="text-2xl font-semibold font-[var(--font-coconat)] text-[var(--color-text-primary)] group-hover:text-[var(--color-accent)] transition-colors">
              {service.title}
            </h3>
            <p class="mt-3 text-[var(--color-text-primary)]">
              {service.description}
            </p>
          </div>

          {i < services.length - 1 && (
            <div data-animate data-delay={200 + i * 100} class="flex justify-center relative">
              <svg class="w-10 h-20 text-[var(--color-accent)] arrow-flow" viewBox="0 0 40 80" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                <defs>
                  <linearGradient id={`gradient-${i}`} x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop offset="0%" style="stop-color:var(--color-brand-400);stop-opacity:0.7" />
                    <stop offset="100%" style="stop-color:var(--color-brand-500);stop-opacity:1" />
                  </linearGradient>
                </defs>
                <path d="M20 5 L20 60 M11 51 L20 60 L29 51" stroke={`url(#gradient-${i})`} class="arrow-path" />
              </svg>
            </div>
          )}
        </>
      ))}

      <!-- Loop back arrow -->
      <div data-animate data-delay="450" class="flex justify-center mt-6 mb-6 relative h-48">
        <svg class="w-full max-w-md h-48 text-[var(--color-accent)] loop-arrow" viewBox="0 0 400 192" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" preserveAspectRatio="xMidYMid meet">
          <defs>
            <linearGradient id="loop-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:var(--color-brand-500);stop-opacity:1" />
              <stop offset="33%" style="stop-color:var(--color-brand-400);stop-opacity:0.9" />
              <stop offset="66%" style="stop-color:var(--color-brand-400);stop-opacity:0.9" />
              <stop offset="100%" style="stop-color:var(--color-brand-500);stop-opacity:1" />
            </linearGradient>
          </defs>
          <path d="M200 10 L200 100 Q200 130 170 130 L30 130 Q10 130 10 110 L10 30 M4 36 L10 30 L16 36" stroke="url(#loop-gradient)" class="loop-path" />
        </svg>
      </div>
      <p data-animate data-delay="500" class="text-center text-sm text-[var(--color-text-tertiary)] -mt-10 font-medium">
        Continuous improvement cycle
      </p>
    </div>
  </div>
</section>

<style>
  @keyframes arrow-flow {
    0%, 100% {
      opacity: 0.5;
      filter: drop-shadow(0 0 4px var(--color-brand-500));
      transform: scale(1);
    }
    50% {
      opacity: 1;
      filter: drop-shadow(0 0 16px var(--color-brand-500)) drop-shadow(0 0 24px var(--color-brand-400));
      transform: scale(1.05);
    }
  }

  @keyframes stroke-flow {
    0% {
      stroke-dashoffset: 150;
    }
    100% {
      stroke-dashoffset: 0;
    }
  }

  @keyframes loop-flow {
    0%, 100% {
      opacity: 0.6;
      filter: drop-shadow(0 0 6px var(--color-brand-400));
      transform: scale(1);
    }
    50% {
      opacity: 1;
      filter: drop-shadow(0 0 20px var(--color-brand-400)) drop-shadow(0 0 30px var(--color-brand-500));
      transform: scale(1.03);
    }
  }

  .arrow-flow {
    animation: arrow-flow 1.5s ease-in-out infinite;
    transform-origin: center;
  }

  .arrow-flow:nth-child(1) {
    animation-delay: 0s;
  }

  .arrow-path {
    stroke-dasharray: 150;
    stroke-dashoffset: 150;
    animation: stroke-flow 1.5s ease-out forwards;
  }

  .loop-arrow {
    animation: loop-flow 2.5s ease-in-out infinite;
    transform-origin: center;
  }

  .loop-path {
    stroke-dasharray: 400;
    stroke-dashoffset: 400;
    animation: stroke-flow 2.5s ease-out forwards;
    animation-delay: 0.3s;
  }
</style>
